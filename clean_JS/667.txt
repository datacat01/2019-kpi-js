
  (function(){
    var a = function() {try{return !!window.addEventListener} catch(e) {return !1} },
    b = function(b, c) {a() ? document.addEventListener("DOMContentLoaded", b, c) : document.attachEvent("onreadystatechange", b)};
    b(function(){
      if (!a()) return;

      window.addEventListener("message", handleMessage, false)

      function handleMessage(event) {
        if (event.data && event.data.type === 'results') {
          var f = document.getElementById('challenge-form');

          if (f) {
            addInput(f, 'bf_challenge_id', '1462');
            addInput(f, 'bf_execution_time', event.data.executionTimeMs);
            addInput(f, 'bf_result_hash', event.data.resultHash);
          }

          window.removeEventListener("message", handleMessage, false)
        }
      }

      function addInput(parent, name, value) {
        var input = document.createElement('input');
        input.type = 'hidden';
        input.name = name;
        input.value = value;
        parent.appendChild(input);
      }

      function withIframe(iframeContent) {
        var iframe = document.createElement('iframe');
        iframe.id = 'bf_test_iframe';
        iframe.style.visibility = 'hidden';
        document.body.appendChild(iframe);
        var doc = (iframe.contentWindow || iframe.contentDocument).document;
        doc.write(iframeContent);
        doc.close();
      }

      withIframe("<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=utf-8>\n  <title><\/title>\n  \n  <script src=\"https:\/\/ajax.cloudflare.com\/cdn-cgi\/scripts\/697236fc\/cloudflare-static\/bot-filter.js\"><\/__script__>\n  \n  \n  \n<\/head>\n<body>\n  <media id='media' width=10 height=10\/>\n  <canvas id='canvas' width=10 height=10\/>\n\n  <pre id=\"untested_idl\" style=\"display: none\">\n    interface HTMLCanvasElement {};\n    interface HTMLMediaElement {};\n    interface MediaStream {};\n    interface MediaStreamTrack {};\n  <\/pre>\n  <pre id=\"idl\" style=\"display: none\">\n    \/\/ https:\/\/w3c.github.io\/mediacapture-fromelement\/\n\n    partial interface HTMLMediaElement {\n        MediaStream captureStream();\n    };\n\n    partial interface HTMLCanvasElement {\n        MediaStream captureStream(optional double frameRequestRate);\n    };\n\n    interface CanvasCaptureMediaStreamTrack : MediaStreamTrack {\n        readonly attribute HTMLCanvasElement canvas;\n        void requestFrame();\n    };\n\n  <\/pre>\n  \n  <div><\/div>\n<\/body>\n<\/html>\n<script>\"use strict\";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function e(n){return typeof n}:function e(n){return n&&\"function\"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?\"symbol\":typeof n})(e)}!function(){var a={float:new RegExp(\"-?(?=[0-9]*\\\\.|[0-9]+[eE])(([0-9]+\\\\.[0-9]*|[0-9]*\\\\.[0-9]+)([Ee][-+]?[0-9]+)?|[0-9]+[Ee][-+]?[0-9]+)\",\"y\"),integer:new RegExp(\"-?(0([Xx][0-9A-Fa-f]+|[0-7]*)|[1-9][0-9]*)\",\"y\"),identifier:new RegExp(\"[A-Z_a-z][0-9A-Z_a-z-]*\",\"y\"),string:new RegExp('\"[^\"]*\"',\"y\"),whitespace:new RegExp(\"[\\\\t\\\\n\\\\r ]+\",\"y\"),comment:new RegExp(\"((\\\\\/(\\\\\/.*|\\\\*([^*]|\\\\*[^\\\\\/])*\\\\*\\\\\/)[\\\\t\\\\n\\\\r ]*)+)\",\"y\"),other:new RegExp(\"[^\\\\t\\\\n\\\\r 0-9A-Z_a-z]\",\"y\")};function s(e,type,n,r,tokens){n.lastIndex=r;var i=n.exec(e);return i?(tokens.push({type:type,value:i[0]}),n.lastIndex):-1}function i(e){for(var tokens=[],n=0;n<e.length;){var r=e.charAt(n),i=-1;if(\/[-0-9.]\/.test(r)?(-1===(i=s(e,\"float\",a.float,n,tokens))&&(i=s(e,\"integer\",a.integer,n,tokens)),-1===i&&(i=s(e,\"other\",a.other,n,tokens))):\/[A-Z_a-z]\/.test(r)?i=s(e,\"identifier\",a.identifier,n,tokens):'\"'===r?-1===(i=s(e,\"string\",a.string,n,tokens))&&(i=s(e,\"other\",a.other,n,tokens)):\/[\\t\\n\\r ]\/.test(r)?i=s(e,\"whitespace\",a.whitespace,n,tokens):\"\/\"===r?-1===(i=s(e,\"whitespace\",a.comment,n,tokens))&&(i=s(e,\"other\",a.other,n,tokens)):i=s(e,\"other\",a.other,n,tokens),-1===i)throw new Error(\"Token stream not progressing\");n=i}return tokens}var G=function(){function r(e,line,n,tokens){_classCallCheck(this,r),this.message=e,this.line=line,this.input=n,this.tokens=tokens}return _createClass(r,[{key:\"toString\",value:function e(){return\"\".concat(this.message,\", line \").concat(this.line,\" (tokens: '\").concat(this.input,\"')\\n\").concat(JSON.stringify(this.tokens,null,4))}}]),r}();function o(tokens,l){var line=1;tokens=tokens.slice();var e=new Map,u=null,o=\"float\",c=\"integer\",f=\"identifier\",d=\"string\",p=\"other\",i=Object.freeze({type:\"operation\",getter:!1,setter:!1,deleter:!1,static:!1,stringifier:!1});function error(e){for(var n=\"\",r=0,i=5,a;r<5&&tokens.length>r;)n+=tokens[r].value,r++;throw a=u?\"Got an error during or right after parsing `\".concat(u.partial?\"partial \":\"\").concat(u.type,\" \").concat(u.name,\"`: \").concat(e):\"Got an error before parsing any named definition: \".concat(e),new G(a,line,n,tokens.slice(0,5))}function m(name,type){return e.has(name)&&error('The name \"'.concat(name,'\" of type \"').concat(e.get(name),'\" is already seen')),e.set(name,type),name}var h=null;function _(type,value){if(tokens.length&&tokens[0].type===type)return void 0===value||tokens[0].value===value?(h=tokens.shift(),type===f&&h.value.startsWith(\"_\")&&(h.value=h.value.substring(1)),h):void 0}function n(e,n){for(var r=0,i=e.indexOf(n);-1!==i;i=e.indexOf(n,i+1))++r;return r}function y(){if(tokens.length&&\"whitespace\"===tokens[0].type){var t=tokens.shift();return line+=n(t.value,\"\\n\"),t}}var b={ws:new RegExp(\"([\\\\t\\\\n\\\\r ]+)\",\"y\"),\"line-comment\":new RegExp(\"\\\\\/\\\\\/(.*)\\\\r?\\\\n?\",\"y\"),\"multiline-comment\":new RegExp(\"\\\\\/\\\\*((?:[^*]|\\\\*[^\/])*)\\\\*\\\\\/\",\"y\")};function v(e,n){for(var t={type:\"whitespace\",value:\"\"};;){var r=y();if(!r)break;t.value+=r.value}if(0<t.value.length){if(e)for(var i=t.value,a=0;a<i.length;){var s=!1;for(var o in b){var c=b[o];c.lastIndex=a;var l=c.exec(i);if(l){e.push({type:o+(n?\"-\"+n:\"\"),value:l[1]}),s=!0,a=c.lastIndex;break}}if(!s)throw new Error(\"Surprising white space construct.\")}return t}}function r(){var e=\"\";return v(),_(f,\"unsigned\")&&(e=\"unsigned \"),v(),_(f,\"short\")?e+\"short\":_(f,\"long\")?(e+=\"long\",v(),_(f,\"long\")?e+\" long\":e):void(e&&error(\"Failed to parse integer type\"))}function a(){var e=\"\";return v(),_(f,\"unrestricted\")&&(e=\"unrestricted \"),v(),_(f,\"float\")?e+\"float\":_(f,\"double\")?e+\"double\":void(e&&error(\"Failed to parse float type\"))}function s(){var e=r()||a();return e||(v(),_(f,\"boolean\")?\"boolean\":_(f,\"byte\")?\"byte\":_(f,\"octet\")?\"octet\":void 0)}function g(){if(_(f,\"true\"))return{type:\"boolean\",value:!0};if(_(f,\"false\"))return{type:\"boolean\",value:!1};if(_(f,\"null\"))return{type:\"null\"};if(_(f,\"Infinity\"))return{type:\"Infinity\",negative:!1};if(_(f,\"NaN\"))return{type:\"NaN\"};var e=_(o)||_(c);if(e)return{type:\"number\",value:e.value};var n=_(p,\"-\");if(n){if(_(f,\"Infinity\"))return{type:\"Infinity\",negative:!0};tokens.unshift(n)}}function I(e){for(;;){if(v(),!_(p,\"?\"))return;e.nullable&&error(\"Can't nullable more than once\"),e.nullable=!0}}function w(e){var n=s(),r={type:e||null,sequence:!1,generic:null,nullable:!1,union:!1},name,value;if(n)r.idlType=n;else{if(!(name=_(f)))return;if(value=name.value,v(),_(p,\"<\")){\"sequence\"===value&&(r.sequence=!0),r.generic=value;for(var types=[];v(),types.push($(e)||error(\"Error parsing generic type \"+value)),v(),_(p,\",\"););return\"sequence\"===value?1!==types.length&&error(\"A sequence must have exactly one subtype\"):\"record\"===value?(2!==types.length&&error(\"A record must have exactly two subtypes\"),\/^(DOMString|USVString|ByteString)$\/.test(types[0].idlType)||error(\"Record key must be DOMString, USVString, or ByteString\"),types[0].extAttrs&&error(\"Record key cannot have extended attribute\")):\"Promise\"===value&&types[0].extAttrs&&error(\"Promise type cannot have extended attribute\"),r.idlType=1===types.length?types[0]:types,v(),_(p,\">\")||error(\"Unterminated generic type \"+value),I(r),r}r.idlType=value}return I(r),r.nullable&&\"any\"===r.idlType&&error(\"Type any cannot be made nullable\"),r}function x(e){if(v(),_(p,\"(\")){var n={type:e||null,sequence:!1,generic:null,nullable:!1,union:!0,idlType:[]},r=$()||error(\"Union type with no content\");for(n.idlType.push(r);v(),_(f,\"or\");){var i=$()||error(\"No type after 'or' in union type\");n.idlType.push(i)}return _(p,\")\")||error(\"Unterminated union type\"),I(n),n}}function type(e){return w(e)||x(e)}function $(e){var n=k(),r=w(e)||x(e);return n.length&&r&&(r.extAttrs=n),r}function argument(e){var n={optional:!1,variadic:!1};n.extAttrs=k(e),v(e,\"pea\");var r=_(f,\"optional\");if(r&&(n.optional=!0,v()),n.idlType=$(\"argument-type\"),n.idlType){var i=h;n.optional||(v(),3<=tokens.length&&\"other\"===tokens[0].type&&\".\"===tokens[0].value&&\"other\"===tokens[1].type&&\".\"===tokens[1].value&&\"other\"===tokens[2].type&&\".\"===tokens[2].value&&(tokens.shift(),tokens.shift(),tokens.shift(),n.variadic=!0)),v();var name=_(f);if(!name)return r&&tokens.unshift(r),void tokens.unshift(i);if(n.name=name.value,n.optional){v();var a=j();void 0!==a&&(n.default=a)}return n}r&&tokens.unshift(r)}function E(e){var n=[],r=argument(e?n:null);if(r)for(n.push(r);;){if(v(e?n:null),!_(p,\",\"))return n;var i=argument(e?n:null)||error(\"Trailing comma in arguments list\");n.push(i)}}function T(e){v();var name=_(f);if(name){var n={name:name.value,arguments:null,type:\"extended-attribute\",rhs:null},r,i,pair;if(v(),_(p,\"=\")){if(v(),n.rhs=_(f)||_(o)||_(c)||_(d),!n.rhs&&_(p,\"(\")){var a=[],s=_(f);s&&a.push(s.value),identifiers(a),_(p,\")\")||error(\"Unexpected token in extended attribute argument list or type pair\"),n.rhs={type:\"identifier-list\",value:a}}if(!n.rhs)return error(\"No right hand side to extended attribute assignment\")}if(v(),_(p,\"(\"))(i=E(e))?n.arguments=i:n.arguments=[],v(),_(p,\")\")||error(\"Unexpected token in extended attribute argument list\");return n}}function k(e){var n=[];if(v(e),!_(p,\"[\"))return n;for(n[0]=T(e)||error(\"Extended attribute with not content\"),v();_(p,\",\");)n.length?n.push(T(e)):n.push(T(e)||error(\"Trailing comma in extended attribute\"));return v(),_(p,\"]\")||error(\"No end of extended attribute\"),n}function j(){if(v(),_(p,\"=\")){v();var e=g();if(e)return e;if(_(p,\"[\"))return _(p,\"]\")||error(\"Default sequence value must be empty\"),{type:\"sequence\",value:[]};var n=_(d)||error(\"No value for default\");return n.value=n.value.slice(1,-1),n}}function O(e){if(v(e,\"pea\"),_(f,\"const\")){var n={type:\"const\",nullable:!1};v();var r=s();r||(r=(r=_(f)||error(\"No type for const\")).value),n.idlType={type:\"const-type\",idlType:r},v(),_(p,\"?\")&&(n.nullable=!0,v());var name=_(f)||error(\"No name for const\");n.name=name.value,v(),_(p,\"=\")||error(\"No value assignment for const\"),v();var i=g();return i?n.value=i:error(\"No value for const\"),v(),_(p,\";\")||error(\"Unterminated const\"),n}}function inheritance(){var e;if(v(),_(p,\":\"))return v(),(_(f)||error(\"No type in inheritance\")).value}function A(e,n){v(),e||(e={});var name=_(f);return e.name=name?name.value:null,v(),_(p,\"(\")||error(\"Invalid operation\"),e.arguments=E(n)||[],v(),_(p,\")\")||error(\"Unterminated operation\"),v(),_(p,\";\")||error(\"Unterminated operation\"),e}function callback(e){var n;if(v(e,\"pea\"),_(f,\"callback\")){var r;if(v(),_(f,\"interface\"))return n=W(!1,e,\"callback interface\");var name=_(f)||error(\"No name for callback\");return n=u={type:\"callback\",name:m(name.value,\"callback\")},v(),_(p,\"=\")||error(\"No assignment in callback\"),v(),n.idlType=N(),v(),_(p,\"(\")||error(\"No arguments in callback\"),n.arguments=E(e)||[],v(),_(p,\")\")||error(\"Unterminated callback\"),v(),_(p,\";\")||error(\"Unterminated callback\"),n}}function attribute(e){v(e,\"pea\");var n=[],r={type:\"attribute\",static:!1,stringifier:!1,inherit:!1,readonly:!1},i=v();if(i&&n.push(i),_(f,\"inherit\")){(r.static||r.stringifier)&&error(\"Cannot have a static or stringifier inherit\"),r.inherit=!0,n.push(h);var a=v();a&&n.push(a)}if(_(f,\"readonly\")){r.readonly=!0,n.push(h);var s=v();s&&n.push(s)}var o=S(r);return o||(tokens=n.concat(tokens)),o}function S(e){if(_(f,\"attribute\")){v(),e.idlType=$(\"attribute-type\")||error(\"No type in attribute\"),e.idlType.sequence&&error(\"Attributes cannot accept sequence types\"),\"record\"===e.idlType.generic&&error(\"Attributes cannot accept record types\"),v();var name=_(f)||error(\"No name in attribute\");return e.name=name.value,v(),_(p,\";\")||error(\"Unterminated attribute\"),e}}function N(){var e=type(\"return-type\");if(!e){if(_(f,\"void\"))return\"void\";error(\"No return type\")}return e}function operation(e){v(e,\"pea\");for(var n=Object.assign({},i);;)if(v(),_(f,\"getter\"))n.getter=!0;else if(_(f,\"setter\"))n.setter=!0;else{if(!_(f,\"deleter\"))break;n.deleter=!0}return n.getter||n.setter||n.deleter?(v(),n.idlType=N()):(n.idlType=N(),v()),A(n,e),n}function U(e){if(v(e,\"pea\"),_(f,\"static\"))return v(),P(e,\"static\")||q(e,\"static\")||error(\"No body in static member\")}function stringifier(e){if(v(e,\"pea\"),_(f,\"stringifier\"))return v(),_(p,\";\")?Object.assign({},i,{stringifier:!0}):P(e,\"stringifier\")||q(e,\"stringifier\")||error(\"Unterminated stringifier\")}function identifiers(e){for(;v(),_(p,\",\");){v();var name=_(f)||error(\"Trailing comma in identifiers list\");e.push(name.value)}}function M(){return _(f,\"iterable\")?\"iterable\":_(f,\"legacyiterable\")?\"legacyiterable\":_(f,\"maplike\")?\"maplike\":_(f,\"setlike\")?\"setlike\":void 0}function D(){return _(f,\"maplike\")?\"maplike\":_(f,\"setlike\")?\"setlike\":void 0}function H(e){v(e,\"pea\");var n=[],r={type:null,idlType:null,readonly:!1};if(_(f,\"readonly\")){r.readonly=!0,n.push(h);var i=v();i&&n.push(i)}var a,s=(r.readonly?D:M)();if(s){var o=\"maplike\"===s,c=o||\"iterable\"===s;return r.type=s,\"maplike\"!==r.type&&\"setlike\"!==r.type&&delete r.readonly,v(),_(p,\"<\")?(r.idlType=[$()],v(),c&&(_(p,\",\")?(v(),r.idlType.push($()),v()):o&&error(\"Missing second type argument in \".concat(s,\" declaration\"))),_(p,\">\")||error(\"Unterminated \".concat(s,\" declaration\")),v(),_(p,\";\")||error(\"Missing semicolon after \".concat(s,\" declaration\"))):error(\"Error parsing \".concat(s,\" declaration\")),r}tokens=n.concat(tokens)}function W(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"interface\";v();var name=_(f)||error(\"No name for interface\"),i=[],a=u={type:r,name:e?name.value:m(name.value,\"interface\"),partial:e,members:i};for(e||(a.inheritance=inheritance()||null),v(),_(p,\"{\")||error(\"Bodyless interface\");;){if(v(n?i:null),_(p,\"}\"))return v(),_(p,\";\")||error(\"Missing semicolon after interface\"),a;var s=k(n?i:null);v();var o=O(n?i:null);if(o)o.extAttrs=s,a.members.push(o);else{var c=l.allowNestedTypedefs&&typedef(n?i:null)||U(n?i:null)||stringifier(n?i:null)||H(n?i:null)||attribute(n?i:null)||operation(n?i:null)||error(\"Unknown member\");c.extAttrs=s,a.members.push(c)}}}function C(e,n){if(v(),_(f,\"mixin\")){v();var name=_(f)||error(\"No name for interface mixin\"),r=[],i=u={type:\"interface mixin\",name:e?name.value:m(name.value,\"interface mixin\"),partial:e,members:r};for(v(),_(p,\"{\")||error(\"Bodyless interface mixin\");;){if(v(n?r:null),_(p,\"}\"))return v(),_(p,\";\")||error(\"Missing semicolon after interface mixin\"),i;var a=k(n?r:null);v();var s=O(n?r:null);if(s)s.extAttrs=a,i.members.push(s);else{var o=stringifier(n?r:null)||P(n?r:null)||q(n?r:null)||error(\"Unknown member\");o.extAttrs=a,i.members.push(o)}}}}function L(e,n){if(v(e?null:n,\"pea\"),_(f,\"interface\"))return C(e,n)||W(e,n)||error(\"Interface has no proper body\")}function namespace(e,n){if(v(e?null:n,\"pea\"),_(f,\"namespace\")){v();var name=_(f)||error(\"No name for namespace\"),r=[],i=u={type:\"namespace\",name:e?name.value:m(name.value,\"namespace\"),partial:e,members:r};for(v(),_(p,\"{\")||error(\"Bodyless namespace\");;){if(v(n?r:null),_(p,\"}\"))return v(),_(p,\";\")||error(\"Missing semicolon after namespace\"),i;var a=k(n?r:null);v();var s=P(n?r:null)||q(n?r:null)||error(\"Unknown member\");s.extAttrs=a,i.members.push(s)}}}function P(e,n){var r=v(e,\"pea\"),i=[],a={type:\"attribute\",static:!1,stringifier:!1,inherit:!1,readonly:!1};if(n&&(a[n]=!0),r&&i.push(r),_(f,\"readonly\")){a.readonly=!0,i.push(h);var s=v();s&&i.push(s)}var o=S(a);return o||(tokens=i.concat(tokens)),o}function q(e,n){v(e,\"pea\");var r=Object.assign({},i);return n&&(r[n]=!0),r.idlType=N(),A(r,e)}function partial(e){var n;if(v(e,\"pea\"),_(f,\"partial\"))return dictionary(!0,e)||L(!0,e)||namespace(!0,e)||error(\"Partial doesn't apply to anything\")}function dictionary(e,n){if(v(e?null:n,\"pea\"),_(f,\"dictionary\")){v();var name=_(f)||error(\"No name for dictionary\"),r=[],i=u={type:\"dictionary\",name:e?name.value:m(name.value,\"dictionary\"),partial:e,members:r};for(e||(i.inheritance=inheritance()||null),v(),_(p,\"{\")||error(\"Bodyless dictionary\");;){if(v(n?r:null),_(p,\"}\"))return v(),_(p,\";\")||error(\"Missing semicolon after dictionary\"),i;var a=k(n?r:null);v(n?r:null,\"pea\");var s=_(f,\"required\"),o=$(\"dictionary-type\")||error(\"No type for dictionary member\");v();var c=_(f)||error(\"No name for dictionary member\"),l=j();s&&l&&error(\"Required member must not have a default\");var member={type:\"field\",name:c.value,required:!!s,idlType:o,extAttrs:a};void 0!==l&&(member.default=l),i.members.push(member),v(),_(p,\";\")||error(\"Unterminated dictionary member\")}}}function R(e){if(v(e,\"pea\"),_(f,\"enum\")){v();var name=_(f)||error(\"No name for enum\"),n=[],r=u={type:\"enum\",name:m(name.value,\"enum\"),values:n};v(),_(p,\"{\")||error(\"No curly for enum\");for(var i=!1;;){if(v(e?n:null),_(p,\"}\"))return v(),_(p,\";\")||error(\"No semicolon after enum\"),r;var a=_(d)||error(\"Unexpected value in enum\");a.value=a.value.slice(1,-1),r.values.push(a),v(e?n:null),_(p,\",\")?(e&&n.push({type:\",\"}),v(e?n:null),i=!0):i=!1}}}function typedef(e){if(v(e,\"pea\"),_(f,\"typedef\")){var n={type:\"typedef\"};v(),n.idlType=$(\"typedef-type\")||error(\"No type in typedef\"),v();var name=_(f)||error(\"No name in typedef\");return n.name=m(name.value,\"typedef\"),u=n,v(),_(p,\";\")||error(\"Unterminated typedef\"),n}}function B(e){v(e,\"pea\");var n=_(f);if(n){var r=v();if(_(f,\"implements\")){var i={type:\"implements\",target:n.value};v();var a=_(f)||error(\"Incomplete implements statement\");return i.implements=a.value,v(),_(p,\";\")||error(\"No terminating ; for implements statement\"),i}tokens.unshift(r),tokens.unshift(n)}}function includes(e){v(e,\"pea\");var n=_(f);if(n){var r=v();if(_(f,\"includes\")){var i={type:\"includes\",target:n.value};v();var a=_(f)||error(\"Incomplete includes statement\");return i.includes=a.value,v(),_(p,\";\")||error(\"No terminating ; for includes statement\"),i}tokens.unshift(r),tokens.unshift(n)}}function definition(e){return callback(e)||L(!1,e)||partial(e)||dictionary(!1,e)||R(e)||typedef(e)||B(e)||includes(e)||namespace(!1,e)}function z(e){if(!tokens.length)return[];for(var n=[];;){var r=k(e?n:null),i=definition(e?n:null);if(!i){r.length&&error(\"Stray extended attributes\");break}i.extAttrs=r,n.push(i)}return n}var F=z(l.ws);return tokens.length&&error(\"Unrecognised tokens\"),F}var e={parse:function e(n,r){var tokens;return r||(r={}),o(i(n),r)}};\"undefined\"!=typeof module&&void 0!==module.exports?module.exports=e:\"function\"==typeof define&&define.amd?define([],function(){return e}):(self||window).WebIDL2=e}(),function(){function constValue(e){return\"null\"===e.type?null:\"NaN\"===e.type?NaN:\"Infinity\"===e.type?e.negative?-1\/0:1\/0:\"number\"===e.type?+e.value:e.value}function minOverloadLength(e){return e.length?e.map(function(e){return e.arguments?e.arguments.filter(function(e){return!e.optional&&!e.variadic}).length:0}).reduce(function(e,n){return Math.min(e,n)}):0}function throwOrReject(n,operation,e,r,i,a,s){if(\"Promise\"!==operation.idlType.generic)__c$15(new TypeError,function(){e.apply(r,i)}),s();else try{promise_rejects(n,new TypeError,e.apply(r,i),a).then(s,s)}catch(e){n.step(function(){__c$16('Throws \"'+e+'\" instead of rejecting promise'),s()})}}function awaitNCallbacks(e,n,r){var i=0;return function(){e<=++i&&n()}}var fround=function(){if(Math.fround)return Math.fround;var r=new Float32Array(1);return function e(n){return r[0]=n,r[0]}}();function exposure_set(e,n){var exposed=e.extAttrs.filter(function(e){return\"Exposed\"==e.name});if(1<exposed.length)throw new IdlHarnessError(\"Multiple 'Exposed' extended attributes on \".concat(e.name));if(0===exposed.length)return n;var r=exposed[0].rhs.value;return\"string\"==typeof r&&(r=[r]),r}function exposed_in(e){if(\"document\"in self)return 0<=e.indexOf(\"Window\");if(\"DedicatedWorkerGlobalScope\"in self&&self instanceof DedicatedWorkerGlobalScope)return 0<=e.indexOf(\"Worker\")||0<=e.indexOf(\"DedicatedWorker\");if(\"SharedWorkerGlobalScope\"in self&&self instanceof SharedWorkerGlobalScope)return 0<=e.indexOf(\"Worker\")||0<=e.indexOf(\"SharedWorker\");if(\"ServiceWorkerGlobalScope\"in self&&self instanceof ServiceWorkerGlobalScope)return 0<=e.indexOf(\"Worker\")||0<=e.indexOf(\"ServiceWorker\");throw new IdlHarnessError(\"Unexpected global object\")}function IdlObject(){}function IdlDictionary(e){this.name=e.name,this.array=e.array,this.members=e.members,this.base=e.inheritance}function IdlInterface(e,n,r){this.name=e.name,this.array=e.array,this.untested=e.untested,this.extAttrs=e.extAttrs,this.members=e.members.map(function(e){return new IdlInterfaceMember(e)}),this.has_extended_attribute(\"Unforgeable\")&&this.members.filter(function(e){return!e.static&&(\"attribute\"==e.type||\"operation\"==e.type)}).forEach(function(e){return e.isUnforgeable=!0}),this.base=e.inheritance,this._is_callback=n,this._is_mixin=r}function _traverse_inherited_and_consequential_interfaces(e,callback){var r=e.pop();callback(r);var n=r.array.implements[r.name]||r.array.includes[r.name];n&&n.forEach(function(e){var mixin=r.array.members[e],n;if(!mixin)throw new Error(\"Interface \"+e+\" not found (implemented by \"+r.name+\")\");_traverse_inherited_and_consequential_interfaces(mixin.get_inheritance_stack(),callback)}),0<e.length&&_traverse_inherited_and_consequential_interfaces(e,callback)}function IdlInterfaceMember(e){for(var n in e)this[n]=e[n];\"extAttrs\"in this||(this.extAttrs=[]),this.isUnforgeable=this.has_extended_attribute(\"Unforgeable\"),this.isUnscopable=this.has_extended_attribute(\"Unscopable\")}function create_suitable_object(type){if(type.nullable)return null;switch(type.idlType){case\"any\":case\"boolean\":return!0;case\"byte\":case\"octet\":case\"short\":case\"unsigned short\":case\"long\":case\"unsigned long\":case\"long long\":case\"unsigned long long\":case\"float\":case\"double\":case\"unrestricted float\":case\"unrestricted double\":return 7;case\"DOMString\":case\"ByteString\":case\"USVString\":return\"foo\";case\"object\":return{a:\"b\"};case\"Node\":return document.createTextNode(\"abc\")}return null}function IdlEnum(e){this.name=e.name,this.values=e.values}function IdlTypedef(e){this.name=e.name,this.idlType=e.idlType}self.IdlHarnessError=function(e){this.message=e},IdlHarnessError.prototype=Object.create(Error.prototype),IdlHarnessError.prototype.toString=function(){return this.message},self.IdlArray=function(){this.members={},this.objects={},this.partials=[],this.implements={},this.includes={},this.inheritance={}},IdlArray.prototype.add_idls=function(e,n){this.internal_add_idls(WebIDL2.parse(e),n)},IdlArray.prototype.add_untested_idls=function(e,n){var r=WebIDL2.parse(e);this.mark_as_untested(r),this.internal_add_idls(r,n)},IdlArray.prototype.mark_as_untested=function(e){for(var n=0;n<e.length;n++)if(e[n].untested=!0,\"members\"in e[n])for(var r=0;r<e[n].members.length;r++)e[n].members[r].untested=!0},IdlArray.prototype.is_excluded_by_options=function(name,e){return e&&(e.except&&e.except.includes(name)||e.only&&!e.only.includes(name))},IdlArray.prototype.add_dependency_idls=function(e,n){var r=this,i=WebIDL2.parse(e),f={only:[]},d=new Set;Object.values(this.inheritance).forEach(function(e){return d.add(e)}),Object.values(this.implements).forEach(function(e){return d.add(e)}),Object.keys(this.includes).forEach(function(e){d.add(e),r.includes[e].forEach(function(e){return d.add(e)})}),this.partials.map(function(e){return e.name}).forEach(function(e){return d.add(e)});for(var a=[this.members,this.partials],s=0;s<a.length;s++){var o=a[s],c=Object.values(o).filter(function(e){return!e.untested&&e.members}),l=!0,u=!1,p=void 0;try{for(var m=c[Symbol.iterator](),h;!(l=(h=m.next()).done);l=!0){var _=h.value,y=!0,b=!1,v=void 0;try{for(var g=Object.values(_.members).filter(function(e){return!e.untested&&\"attribute\"===e.type})[Symbol.iterator](),I;!(y=(I=g.next()).done);y=!0){var w=I.value;d.add(w.idlType.idlType)}}catch(e){b=!0,v=e}finally{try{y||null==g.return||g.return()}finally{if(b)throw v}}}}catch(e){u=!0,p=e}finally{try{l||null==m.return||m.return()}finally{if(u)throw p}}}if(n&&n.except&&n.only)throw new IdlHarnessError(\"The only and except options can't be used together.\");var x=function e(name){return name in r.members||r.is_excluded_by_options(name,n)},$=new Map,E=function e(n){var name=n.name||\"implements\"==n.type&&n.target||\"includes\"==n.type&&n.target;if(name&&!x(name)&&d.has(name)){f.only.push(name);for(var r=[],i=[\"inheritance\",\"implements\",\"includes\"],a=0;a<i.length;a++){var s=i[a];if(n[s]){var o=n[s];f.only.push(o),d.add(o),r.push(o)}}for(var c=0;c<r.length;c++){var l=r[c];if($.has(l)){var u=$.get(l);$.delete(l),u.forEach(e)}}}else name&&$.has(name)?$.get(name).push(n):$.set(name,[n])},T=!0,k=!1,j=void 0;try{for(var O=i[Symbol.iterator](),A;!(T=(A=O.next()).done);T=!0){var S;E(A.value)}}catch(e){k=!0,j=e}finally{try{T||null==O.return||O.return()}finally{if(k)throw j}}this.mark_as_untested(i),f.only.length&&this.internal_add_idls(i,f)},IdlArray.prototype.internal_add_idls=function(e,n){var r=this;if(n&&n.only&&n.except)throw new IdlHarnessError(\"The only and except options can't be used together.\");var i=function e(name){return r.is_excluded_by_options(name,n)};e.forEach(function(e){if(e.partial&&[\"interface\",\"dictionary\"].includes(e.type)){if(i(e.name))return;this.partials.push(e)}else{if(\"implements\"==e.type){if(i(e.target))return;return e.target in this.implements||(this.implements[e.target]=[]),void this.implements[e.target].push(e.implements)}if(\"includes\"==e.type){if(i(e.target))return;return e.target in this.includes||(this.includes[e.target]=[]),void this.includes[e.target].push(e.includes)}if(e.array=this,!i(e.name)){if(e.name in this.members)throw new IdlHarnessError(\"Duplicate identifier \"+e.name);if(e.inheritance){if(e.name in this.inheritance&&e.inheritance!=this.inheritance[e.name])throw new IdlHarnessError(\"Inheritance for \".concat(e.name,\" was already defined\"));this.inheritance[e.name]=e.inheritance}switch(e.type){case\"interface\":this.members[e.name]=new IdlInterface(e,!1,!1);break;case\"interface mixin\":this.members[e.name]=new IdlInterface(e,!1,!0);break;case\"dictionary\":this.members[e.name]=new IdlDictionary(e);break;case\"typedef\":this.members[e.name]=new IdlTypedef(e);break;case\"callback\":console.log(\"callback not yet supported\");break;case\"enum\":this.members[e.name]=new IdlEnum(e);break;case\"callback interface\":this.members[e.name]=new IdlInterface(e,!0,!1);break;default:throw e.name+\": \"+e.type+\" not yet supported\"}}}}.bind(this))},IdlArray.prototype.add_objects=function(e){for(var n in e)n in this.objects?this.objects[n]=this.objects[n].concat(e[n]):this.objects[n]=e[n]},IdlArray.prototype.prevent_multiple_testing=function(name){this.members[name].prevent_multiple_testing=!0},IdlArray.prototype.recursively_get_implements=function(e){var n=this.implements[e];if(void 0===n)return[];for(var r=0;r<this.implements[e].length;r++)if((n=n.concat(this.recursively_get_implements(n[r]))).indexOf(n[r])!=n.lastIndexOf(n[r]))throw new IdlHarnessError(\"Circular implements statements involving \"+n[r]);return n},IdlArray.prototype.recursively_get_includes=function(e){var n=this.includes[e];if(void 0===n)return[];for(var r=0;r<this.includes[e].length;r++)if((n=n.concat(this.recursively_get_includes(n[r]))).indexOf(n[r])!=n.lastIndexOf(n[r]))throw new IdlHarnessError(\"Circular includes statements involving \"+n[r]);return n},IdlArray.prototype.is_json_type=function(type){var e=type.idlType;if(\"Promise\"==type.generic)return!1;if(type.union||\"record\"==type.generic)return e.every(this.is_json_type,this);if(\"sequence\"==type.generic||\"FrozenArray\"==type.generic)return this.is_json_type(e);if(\"string\"!=typeof e)throw new Error(\"Unexpected type \"+JSON.stringify(e));switch(e){case\"byte\":case\"octet\":case\"short\":case\"unsigned short\":case\"long\":case\"unsigned long\":case\"long long\":case\"unsigned long long\":case\"float\":case\"double\":case\"unrestricted float\":case\"unrestricted double\":case\"boolean\":case\"DOMString\":case\"ByteString\":case\"USVString\":case\"object\":return!0;case\"Error\":case\"DOMException\":case\"Int8Array\":case\"Int16Array\":case\"Int32Array\":case\"Uint8Array\":case\"Uint16Array\":case\"Uint32Array\":case\"Uint8ClampedArray\":case\"Float32Array\":case\"ArrayBuffer\":case\"DataView\":case\"any\":return!1;default:var n=this.members[e];if(!n)throw new Error(\"Type \"+e+\" not found\");if(n instanceof IdlEnum)return!0;if(n instanceof IdlTypedef)return this.is_json_type(n.idlType);if(n instanceof IdlDictionary){for(var r=n.get_inheritance_stack(),i=new Map;r.length;)r.pop().members.forEach(function(e){i.set(e.name,e.idlType)});return Array.from(i.values()).every(this.is_json_type,this)}if(n instanceof IdlInterface){for(var a;n;){if(n.has_to_json_regular_operation())return!0;var s=this.implements[n.name]||this.includes[n.name];if(s&&(s=s.map(function(e){var mixin=this.members[e];if(!mixin)throw new Error(\"Interface \"+e+\" not found (implemented by \"+n.name+\")\");return mixin},this)).some(function(e){return e.has_to_json_regular_operation()}))return!0;if(!n.base)return!1;if(!(a=this.members[n.base]))throw new Error(\"Interface \"+n.base+\" not found (inherited by \"+n.name+\")\");n=a}return!1}return!1}},IdlArray.prototype.assert_throws=function(error,n){try{n.call(this,this)}catch(e){if(e instanceof AssertionError)throw e;if(error instanceof IdlHarnessError&&(error=error.message),e.message!==error)throw new IdlHarnessError(\"\".concat(n,' threw \"').concat(e,'\", not the expected IdlHarnessError \"').concat(error,'\"'));return}throw new IdlHarnessError(\"\".concat(n,\" did not throw the expected IdlHarnessError\"))},IdlArray.prototype.test=function(){for(var r in this.partials.forEach(function(n){if(!(n.name in this.members&&(this.members[n.name]instanceof IdlInterface||this.members[n.name]instanceof IdlDictionary)))throw new IdlHarnessError(\"Partial \".concat(n.type,\" \").concat(n.name,\" with no original \").concat(n.type));n.extAttrs&&n.extAttrs.forEach(function(e){this.members[n.name].extAttrs.push(e)}.bind(this)),n.members.forEach(function(member){this.members[n.name].members.push(new IdlInterfaceMember(member))}.bind(this))}.bind(this)),this.partials=[],this.implements)this.recursively_get_implements(r).forEach(function(e){var n=r+\" implements \"+e+\", but \";if(!(r in this.members))throw n+r+\" is undefined.\";if(!(this.members[r]instanceof IdlInterface))throw n+r+\" is not an interface.\";if(!(e in this.members))throw n+e+\" is undefined.\";if(!(this.members[e]instanceof IdlInterface))throw n+e+\" is not an interface.\";this.members[e].members.forEach(function(member){this.members[r].members.push(new IdlInterfaceMember(member))}.bind(this))}.bind(this));for(var r in this.implements={},this.includes)this.recursively_get_includes(r).forEach(function(e){var n=r+\" includes \"+e+\", but \";if(!(r in this.members))throw n+r+\" is undefined.\";if(!(this.members[r]instanceof IdlInterface))throw n+r+\" is not an interface.\";if(!(e in this.members))throw n+e+\" is undefined.\";if(!(this.members[e]instanceof IdlInterface))throw n+e+\" is not an interface.\";this.members[e].members.forEach(function(member){this.members[r].members.push(new IdlInterfaceMember(member))}.bind(this))}.bind(this));var e=!0,n=!(this.includes={}),i=void 0;try{for(var a=Object.values(this.members).filter(function(e){return e.base})[Symbol.iterator](),s;!(e=(s=a.next()).done);e=!0){var member=s.value,o=member.name,c=member.base;if(!(c in this.members))throw new IdlHarnessError(\"\".concat(o,\" inherits \").concat(c,\", but \").concat(c,\" is undefined.\"));var l=this.members[o]instanceof IdlInterface,u=this.members[c]instanceof IdlInterface;if(u!=l){if(!l)throw new IdlHarnessError(\"\".concat(o,\" inherits \").concat(c,\", but \").concat(o,\" is not an interface.\"));if(!u)throw new IdlHarnessError(\"\".concat(o,\" inherits \").concat(c,\", but \").concat(c,\" is not an interface.\"))}member.get_inheritance_stack()}}catch(e){n=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}for(var name in Object.getOwnPropertyNames(this.members).forEach(function(e){var member=this.members[e];if(member instanceof IdlInterface){var n=exposure_set(member,[\"Window\"]);member.exposed=exposed_in(n),member.exposureSet=n}}.bind(this)),this.members)this.members[name].test(),name in this.objects&&this.objects[name].forEach(function(e){this.members[name].test_object(e)}.bind(this))},IdlArray.prototype.assert_type_is=function(value,type){if(type.idlType in this.members&&this.members[type.idlType]instanceof IdlTypedef)this.assert_type_is(value,this.members[type.idlType].idlType);else{if(type.union){for(var e=0;e<type.idlType.length;e++)try{return void this.assert_type_is(value,type.idlType[e])}catch(e){if(e instanceof AssertionError)continue;throw e}__c$1(!1)}if(\"any\"!=type.idlType&&!(type.nullable&&null===value||type.array))if(type.sequence){if(__c$1(Array.isArray(value)),!value.length)return;this.assert_type_is(value[0],type.idlType)}else if(\"Promise\"!==type.generic)if(\"FrozenArray\"!==type.generic){switch(type=type.idlType){case\"void\":return void __c$1(value);case\"boolean\":return void __c$1(_typeof(value));case\"byte\":return __c$1(_typeof(value)),__c$1(value),void __c$1(-128<=value&&value<=127);case\"octet\":return __c$1(_typeof(value)),__c$1(value),void __c$1(0<=value&&value<=255);case\"short\":return __c$1(_typeof(value)),__c$1(value),void __c$1(-32768<=value&&value<=32767);case\"unsigned short\":return __c$1(_typeof(value)),__c$1(value),void __c$1(0<=value&&value<=65535);case\"long\":return __c$1(_typeof(value)),__c$1(value),void __c$1(-2147483648<=value&&value<=2147483647);case\"unsigned long\":return __c$1(_typeof(value)),__c$1(value),void __c$1(0<=value&&value<=4294967295);case\"long long\":return void __c$1(_typeof(value));case\"unsigned long long\":case\"DOMTimeStamp\":return __c$1(_typeof(value)),void __c$1(0<=value);case\"float\":return __c$1(_typeof(value)),__c$1(value),__c$1(value),__c$1(value),void __c$1(value);case\"DOMHighResTimeStamp\":case\"double\":return __c$1(_typeof(value)),__c$1(value),__c$1(value),void __c$1(value);case\"unrestricted float\":return __c$1(_typeof(value)),void __c$1(value);case\"unrestricted double\":return void __c$1(_typeof(value));case\"DOMString\":return void __c$1(_typeof(value));case\"ByteString\":return __c$1(_typeof(value)),void __c$1(value);case\"USVString\":return __c$1(_typeof(value)),void __c$1(value);case\"object\":return void __c$1(_typeof(value))}if(!(type in this.members))throw new IdlHarnessError(\"Unrecognized type \"+type);if(this.members[type]instanceof IdlInterface)__c$1(_typeof(value)),value instanceof Object&&!this.members[type].has_extended_attribute(\"NoInterfaceObject\")&&type in self&&__c$1(value instanceof self[type]);else if(this.members[type]instanceof IdlEnum)__c$1(_typeof(value));else if(!(this.members[type]instanceof IdlDictionary))throw new IdlHarnessError(\"Type \"+type+\" isn't an interface or dictionary\")}else{if(__c$1(Array.isArray(value)),__c$1(Object.isFrozen(value)),!value.length)return;this.assert_type_is(value[0],type.idlType)}else __c$1(\"then\"in value)}},IdlObject.prototype.test=function(){},IdlObject.prototype.has_extended_attribute=function(name){return this.extAttrs.some(function(e){return e.name==name})},IdlDictionary.prototype=Object.create(IdlObject.prototype),IdlDictionary.prototype.get_inheritance_stack=function(){return IdlInterface.prototype.get_inheritance_stack.call(this)},IdlInterface.prototype=Object.create(IdlObject.prototype),IdlInterface.prototype.is_callback=function(){return this._is_callback},IdlInterface.prototype.is_mixin=function(){return this._is_mixin},IdlInterface.prototype.has_constants=function(){return this.members.some(function(member){return\"const\"===member.type})},IdlInterface.prototype.get_unscopables=function(){return this.members.filter(function(member){return member.isUnscopable})},IdlInterface.prototype.is_global=function(){return this.extAttrs.some(function(attribute){return\"Global\"===attribute.name})},IdlInterface.prototype.has_to_json_regular_operation=function(){return this.members.some(function(e){return e.is_to_json_regular_operation()})},IdlInterface.prototype.has_default_to_json_regular_operation=function(){return this.members.some(function(e){return e.is_to_json_regular_operation()&&e.has_extended_attribute(\"Default\")})},IdlInterface.prototype.get_inheritance_stack=function(){for(var e=[this],n=this;n.base;){var r=this.array.members[n.base];if(!r)throw new Error(n.type+\" \"+n.base+\" not found (inherited by \"+n.name+\")\");if(-1<e.indexOf(r)){e.push(r);var i=e.map(function(e){return e.name}).join(\",\");throw new IdlHarnessError(\"\".concat(this.name,\" has a circular dependency: \").concat(i))}n=r,e.push(n)}return e},IdlInterface.prototype.default_to_json_operation=function(callback){var r=new Map,e=!1;return this.traverse_inherited_and_consequential_interfaces(function(n){n.has_default_to_json_regular_operation()?(e=!0,n.members.forEach(function(e){!e.static&&\"attribute\"==e.type&&n.array.is_json_type(e.idlType)&&r.set(e.name,e.idlType)})):n.has_to_json_regular_operation()&&(e=!1)}),e?r:null},IdlInterface.prototype.traverse_inherited_and_consequential_interfaces=function(callback){if(\"function\"!=typeof callback)throw new TypeError;var e;_traverse_inherited_and_consequential_interfaces(this.get_inheritance_stack(),callback)},IdlInterface.prototype.test=function(){this.has_extended_attribute(\"NoInterfaceObject\")||this.is_mixin()||this.exposed&&(this.untested||this.test_self(),this.test_members())},IdlInterface.prototype.test_self=function(){this.is_callback(),!this.is_callback()||this.has_constants(),this.has_extended_attribute(\"LegacyWindowAlias\")&&test(function(){var e=this.extAttrs.filter(function(e){return\"LegacyWindowAlias\"===e.name});if(1<e.length)throw new IdlHarnessError(\"Invalid IDL: multiple LegacyWindowAlias extended attributes on \"+this.name);if(this.is_callback())throw new IdlHarnessError(\"Invalid IDL: LegacyWindowAlias extended attribute on non-interface \"+this.name);if(-1===this.exposureSet.indexOf(\"Window\"))throw new IdlHarnessError(\"Invalid IDL: LegacyWindowAlias extended attribute on \"+this.name+\" which is not exposed in Window\");var n=e[0].rhs,r,i;if(!n)throw new IdlHarnessError(\"Invalid IDL: LegacyWindowAlias extended attribute on \"+this.name+\" without identifier\");if(r=\"identifier-list\"===n.type?n.value:[n.value],exposed_in(exposure_set(this,this.exposureSet))&&\"document\"in self){var a=!0,s=!1,o=void 0;try{for(var c=r[Symbol.iterator](),l;!(a=(l=c.next()).done);a=!0){i=l.value,__c$1(i in self),__c$1(self[i]);var u=Object.getOwnPropertyDescriptor(self,i);__c$1(u.value),__c$1(u.writable),__c$1(u.enumerable),__c$1(u.configurable),__c$1(\"get\"in u),__c$1(\"set\"in u)}}catch(e){s=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw o}}}else{var f=!0,d=!1,p=void 0;try{for(var m=r[Symbol.iterator](),h;!(f=(h=m.next()).done);f=!0)i=h.value,__c$1(i in self)}catch(e){d=!0,p=e}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}}}.bind(this)),this.is_global()&&this.test_immutable_prototype(\"interface prototype object\",self[this.name].prototype)},IdlInterface.prototype.test_immutable_prototype=function(type,e){Object.setPrototypeOf},IdlInterface.prototype.test_member_const=function(member){if(!this.has_constants())throw new IdlHarnessError(\"Internal error: test_member_const called without any constants\")},IdlInterface.prototype.test_member_attribute=function(member){var r=async_test();r.step(function(){if(!this.is_callback()||this.has_constants())if(__c$11(self,this.name),__c$11(self[this.name],\"prototype\"),member.static)__c$11(self[this.name],member.name),r.done();else if(this.is_global()){__c$11(self,member.name),__c$1(member.name in self[this.name].prototype);var getter=Object.getOwnPropertyDescriptor(self,member.name).get,n,e;__c$1(_typeof(getter));try{e=self[member.name],n=!0}catch(e){n=!1}n&&__c$1(e),this.do_interface_attribute_asserts(self,member,r)}else __c$1(member.name in self[this.name].prototype),member.has_extended_attribute(\"LenientThis\")?(__c$1(self[this.name].prototype[member.name]),this.do_interface_attribute_asserts(self[this.name].prototype,member,r)):\"Promise\"!==member.idlType.generic?(__c$15(new TypeError,function(){self[this.name].prototype[member.name]}.bind(this)),this.do_interface_attribute_asserts(self[this.name].prototype,member,r)):promise_rejects(r,new TypeError,self[this.name].prototype[member.name]).then(function(){this.do_interface_attribute_asserts(self[this.name].prototype,member,r)}.bind(this));else r.done()}.bind(this))},IdlInterface.prototype.test_member_operation=function(member){var n=async_test();n.step(function(){if(!this.is_callback()||this.has_constants()){if(__c$11(self,this.name),this.is_callback())return __c$1(\"prototype\"in self[this.name]),void n.done();var e;__c$11(self[this.name],\"prototype\"),member.static?(__c$11(self[this.name],member.name),e=self[this.name]):this.is_global()?(__c$11(self,member.name),e=self):(__c$11(self[this.name].prototype,member.name),e=self[this.name].prototype),this.do_member_operation_asserts(e,member,n)}else n.done()}.bind(this))},IdlInterface.prototype.do_member_unscopable_asserts=function(member){if(member.isUnscopable){var e=self[this.name].prototype[Symbol.unscopables],n=member.name,r=Object.getOwnPropertyDescriptor(e,n);__c$1(_typeof(r)),__c$1(\"get\"in r),__c$1(\"set\"in r),__c$1(r.writable),__c$1(r.enumerable),__c$1(r.configurable),__c$1(r.value)}},IdlInterface.prototype.do_member_operation_asserts=function(e,member,n){var r=n.done.bind(n),i=member.isUnforgeable,a=Object.getOwnPropertyDescriptor(e,member.name);__c$1(\"get\"in a),__c$1(\"set\"in a),__c$1(a.writable),__c$1(a.enumerable),__c$1(a.configurable),__c$1(_typeof(e[member.name])),__c$1(e[member.name].length);var s=member.arguments.map(function(e){return create_suitable_object(e.idlType)}),o;member.static?r():(this.is_global()||e[member.name]==self[member.name]?o=awaitNCallbacks(1,r):(o=awaitNCallbacks(2,r),throwOrReject(n,member,e[member.name],null,s,\"calling operation with this = null didn't throw TypeError\",o)),throwOrReject(n,member,e[member.name],{},s,\"calling operation with this = {} didn't throw TypeError\",o))},IdlInterface.prototype.add_iterable_members=function(member){this.members.push(new IdlInterfaceMember({type:\"operation\",name:\"entries\",idlType:\"iterator\",arguments:[]})),this.members.push(new IdlInterfaceMember({type:\"operation\",name:\"keys\",idlType:\"iterator\",arguments:[]})),this.members.push(new IdlInterfaceMember({type:\"operation\",name:\"values\",idlType:\"iterator\",arguments:[]})),this.members.push(new IdlInterfaceMember({type:\"operation\",name:\"forEach\",idlType:\"void\",arguments:[{name:\"callback\",idlType:{idlType:\"function\"}},{name:\"thisValue\",idlType:{idlType:\"any\"},optional:!0}]}))},IdlInterface.prototype.test_to_json_operation=function(e,member){var n=e.constructor.name;if(member.has_extended_attribute(\"Default\"))var r=this.default_to_json_operation()},IdlInterface.prototype.test_member_iterable=function(member){var e=this.name,n=2===member.idlType.length},IdlInterface.prototype.test_member_stringifier=function(member){},IdlInterface.prototype.test_members=function(){for(var e=0;e<this.members.length;e++){var member;switch((member=this.members[e]).type){case\"iterable\":this.add_iterable_members(member);break;default:break}}for(var e=0;e<this.members.length;e++){var member;if(!(member=this.members[e]).untested&&exposed_in(exposure_set(member,this.exposureSet)))switch(member.type){case\"const\":this.test_member_const(member);break;case\"attribute\":member.isUnforgeable||this.test_member_attribute(member),member.stringifier&&this.test_member_stringifier(member);break;case\"operation\":member.name?member.isUnforgeable||this.test_member_operation(member):member.stringifier&&this.test_member_stringifier(member);break;case\"iterable\":this.test_member_iterable(member);break;default:break}}},IdlInterface.prototype.test_object=function(desc){var obj,exception=null;try{obj=eval(desc)}catch(e){exception=e}var expected_typeof=this.members.some(function(member){return member.legacycaller})?\"function\":\"object\";this.test_primary_interface_of(desc,obj,exception,expected_typeof);for(var current_interface=this;current_interface;){if(!(current_interface.name in this.array.members))throw new IdlHarnessError(\"Interface \"+current_interface.name+\" not found (inherited by \"+this.name+\")\");if(current_interface.prevent_multiple_testing&&current_interface.already_tested)return;current_interface.test_interface_of(desc,obj,exception,expected_typeof),current_interface=this.array.members[current_interface.base]}},IdlInterface.prototype.test_primary_interface_of=function(e,n,r,i){this.untested||(this.is_global()&&this.test_immutable_prototype(\"global platform object\",n),!this.has_extended_attribute(\"NoInterfaceObject\")&&(_typeof(n)!=i||Object))},IdlInterface.prototype.test_interface_of=function(e,s,o,n){this.already_tested=!0;for(var r=0;r<this.members.length;r++){var member=this.members[r];if(!member.untested&&exposed_in(exposure_set(member,this.exposureSet))){var c,c;if(\"attribute\"==member.type&&member.isUnforgeable)(c=async_test()).step(function(){__c$1(o),__c$1(_typeof(s)),this.do_interface_attribute_asserts(s,member,c)}.bind(this));else if(\"operation\"==member.type&&member.name&&member.isUnforgeable){var c;(c=async_test()).step(function(){__c$1(o),__c$1(_typeof(s)),__c$11(s,member.name),this.do_member_operation_asserts(s,member,c)}.bind(this))}else if((\"const\"==member.type||\"attribute\"==member.type||\"operation\"==member.type)&&member.name){var i=member.name;\"operation\"==member.type&&(i+=\"(\"+member.arguments.map(function(e){return e.idlType.idlType}).join(\", \")+\")\")}if(\"operation\"==member.type&&member.name&&member.arguments.length)(c=async_test()).step(function(){var e;__c$1(o),__c$1(_typeof(s)),member.static?(__c$11(s.constructor,member.name),e=s.constructor[member.name]):(this.is_global()||member.isUnforgeable?__c$11(s,member.name):__c$13(s,member.name),e=s[member.name]);for(var n=minOverloadLength(this.members.filter(function(e){return\"operation\"==e.type&&e.name==member.name})),r=[],i=awaitNCallbacks(n,c.done.bind(c)),a=0;a<n;a++)throwOrReject(c,member,e,s,r,\"Called with \"+a+\" arguments\",i),r.push(create_suitable_object(member.arguments[a].idlType));0===n&&i()}.bind(this));member.is_to_json_regular_operation()&&this.test_to_json_operation(s,member)}}},IdlInterface.prototype.has_stringifier=function(){return\"DOMException\"===this.name||(!!this.members.some(function(member){return member.stringifier})||!(!this.base||!this.array.members[this.base].has_stringifier()))},IdlInterface.prototype.do_interface_attribute_asserts=function(e,member,n){var r=[];__c$11(e,member.name);var i=Object.getOwnPropertyDescriptor(e,member.name);__c$1(\"value\"in i),__c$1(\"writable\"in i),__c$1(i.enumerable),member.isUnforgeable,__c$1(i.configurable),__c$1(_typeof(i.get)),member.static||(member.has_extended_attribute(\"LenientThis\")?__c$1(i.get.call({})):\"Promise\"!==member.idlType.generic?__c$15(new TypeError,function(){i.get.call({})}.bind(this)):r.push(promise_rejects(n,new TypeError,i.get.call({}),\"calling getter on wrong object type must reject the return promise with TypeError\"))),__c$1(i.get.length),!member.readonly||member.has_extended_attribute(\"LenientSetter\")||member.has_extended_attribute(\"PutForwards\")||member.has_extended_attribute(\"Replaceable\")?(__c$1(_typeof(i.set)),member.static||(member.has_extended_attribute(\"LenientThis\")?__c$1(i.set.call({})):__c$15(new TypeError,function(){i.set.call({})}.bind(this))),__c$1(i.set.length)):__c$1(i.set),Promise.all(r).then(n.done.bind(n))},IdlInterfaceMember.prototype=Object.create(IdlObject.prototype),IdlInterfaceMember.prototype.is_to_json_regular_operation=function(){return\"operation\"==this.type&&!this.static&&\"toJSON\"==this.name},IdlEnum.prototype=Object.create(IdlObject.prototype),IdlTypedef.prototype=Object.create(IdlObject.prototype)}();var canvas=document.getElementById(\"canvas\"),media=document.getElementById(\"media\"),idl_array=new IdlArray;idl_array.add_untested_idls(document.getElementById(\"untested_idl\").textContent),idl_array.add_idls(document.getElementById(\"idl\").textContent),idl_array.add_objects({HTMLMediaElement:[media],HTMLCanvasElement:[canvas],CanvasCaptureMediaStreamTrack:[canvas.captureStream().getTracks()[0]]}),idl_array.test();<\/__script__>".replace(/\/__script__/g, '/script'));

    }, false);
  })();
  

  window._cf_translation = {};
  
  

